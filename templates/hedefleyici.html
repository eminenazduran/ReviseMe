{% extends 'base.html' %}

{% block title %}Planlayıcı{% endblock %}

{% block styles %}
<style>
    body {
        background-color: transparent !important;
        position: relative;
    }
    
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('/static/images/pastel-background.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        z-index: -1;
    }
    
    h1 {
        color: #30E8E8;
        font-size: 3rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        text-shadow: 0 0 15px rgba(48, 6, 75, 0.8), 0 0 20px rgba(48, 6, 75, 0.4);
    }
    
    p {
        color: #FFF;
        font-size: 1.2rem;
        text-shadow: 0 0 8px rgba(0, 0, 0, 0.7);
        margin-bottom: 2rem;
    }
    
    /* Sidebar Styles */
    .planner-sidebar {
        width: 250px;
        background: rgba(35, 41, 70, 0.95);
        min-height: 100vh;
        position: fixed;
        left: 0;
        top: 0;
        z-index: 1000;
        transition: left 0.3s;
        box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .planner-sidebar.sidebar-collapsed {
        left: -250px !important;
    }
    
    .planner-sidebar .nav-link {
        color: #fff;
        padding: 0.8rem 1rem;
        transition: all 0.3s;
    }
    
    .planner-sidebar .nav-link:hover {
        background: rgba(255,255,255,0.1);
        color: #30E8E8;
    }
    
    .planner-sidebar .nav-link.active {
        background: rgba(48, 232, 232, 0.2);
        color: #30E8E8;
    }
    
    .planner-sidebar .nav-link i {
        margin-right: 10px;
        width: 20px;
        text-align: center;
    }
    
    .planner-content {
        margin-left: 250px;
        padding: 20px;
        transition: margin-left 0.3s;
    }
    
    .planner-content.sidebar-collapsed {
        margin-left: 0 !important;
    }
    
    /* Simüle edilmiş yıldızlar */
    @keyframes twinkle {
        0% { opacity: 0.3; }
        50% { opacity: 1; }
        100% { opacity: 0.3; }
    }
    
    .stars {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
    }
    
    .star {
        position: absolute;
        width: 2px;
        height: 2px;
        background-color: white;
        border-radius: 50%;
    }
    
    .star-1 { top: 10%; left: 20%; animation: twinkle 3s infinite ease-in-out; }
    .star-2 { top: 15%; left: 50%; animation: twinkle 4s infinite ease-in-out; }
    .star-3 { top: 25%; left: 80%; animation: twinkle 5s infinite ease-in-out; }
    .star-4 { top: 40%; left: 10%; animation: twinkle 4.5s infinite ease-in-out; }
    .star-5 { top: 60%; left: 30%; animation: twinkle 3.5s infinite ease-in-out; }
    .star-6 { top: 75%; left: 60%; animation: twinkle 4s infinite ease-in-out; }
    .star-7 { top: 85%; left: 90%; animation: twinkle 3s infinite ease-in-out; }
    
    .inner-content-wrapper {
        max-width: 1290px;
        width: 100%;
        margin: 0 auto;
        padding: 32px 24px;
        box-sizing: border-box;
    }
</style>
{% endblock %}

{% block page_content %}
<div class="stars">
    <div class="star star-1"></div>
    <div class="star star-2"></div>
    <div class="star star-3"></div>
    <div class="star star-4"></div>
    <div class="star star-5"></div>
    <div class="star star-6"></div>
    <div class="star star-7"></div>
</div>

<!-- Planlayıcı Sidebar -->
<div class="planner-sidebar" id="planner-sidebar">
    <div class="mb-3 text-center" style="margin-top: 4rem;">
        <a href="{{ url_for('index') }}" class="btn btn-outline-info w-100 mb-2">
            <i class="fas fa-bullseye"></i> Tekrar Sistemine Geç
        </a>
    </div>
    <ul class="nav flex-column w-100">
        <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'kitaplarim' %}active{% endif %}" href="{{ url_for('kitaplarim') }}">
                <i class="fas fa-book"></i> Kitaplarım
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'gorevlerim' %}active{% endif %}" href="{{ url_for('gorevlerim') }}">
                <i class="fas fa-tasks"></i> Görevlerim
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'listening' %}active{% endif %}" href="{{ url_for('listening') }}">
                <i class="fas fa-headphones"></i> Listening
            </a>
        </li>
    </ul>
</div>

<!-- Ana İçerik -->
<div class="planner-content" id="planner-content">
    <!-- Geri Dön Butonu -->
    <div class="mt-3 mb-2">
        <a href="{{ url_for('welcome_options') }}" class="btn btn-outline-light">
            <i class="fas fa-arrow-left"></i> Geri Dön
        </a>
    </div>
    <h1>Planlayıcı</h1>
    
    {# This block will be used by specific hedefleyici sub-pages to insert their content #}
    {% block hedefleyici_content %}
        <p>Lütfen yukarıdaki seçeneklerden birini belirleyin.</p>
    {% endblock %}
</div>
{% endblock %}

<script>
document.addEventListener('DOMContentLoaded', function() {
    const sidebarToggle = document.getElementById('sidebarToggle');
    const sidebar = document.getElementById('planner-sidebar');
    const mainContent = document.getElementById('planner-content');
    if (sidebarToggle && sidebar) {
        sidebarToggle.addEventListener('click', function() {
            sidebar.classList.toggle('sidebar-collapsed');
            if (mainContent) {
                mainContent.classList.toggle('sidebar-collapsed');
            }
        });
    }
});
</script> 
